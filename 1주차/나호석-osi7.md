# OSI 7계층

## OSI 7계층이란

- OSI 모형(Open Systems Interconnection Reference Model)은 국제표준화기구(ISO)에서 개발한 모델.
- 컴퓨터 네트워크 프로토콜 디자인과 통신을 계층으로 나누어 설명한 것.
- 네트워크 시스템을 하나의 커다란 소프트웨어로 본다면 OSI 7계층은 거대한 네트워크의 구조를 설명하는 것.
- 이런 규격이 없으면 서로 다른 네트워크끼리 통신을 할 때 문제가 생긴다.
- 다음과 같은 7계층을 갖는다.
  - 물리 계층(Physical layer)
  - 데이터 링크 계층(Data link layer)
  - 네트워크 계층(Network layer)
  - 전송 계층(Transport layer)
  - 세션 계층(Session layer)
  - 표현 계층(Presentation layer)
  - 응용 계층(Application layer)

### TCP/IP 모델

- OSI 모델 처럼 네트워크 시스템에 대한 모델.
- 현대의 인터넷은 OSI 모델이 아니라 TCP/IP 모델을 따름.
  - TCP/IP가 OSI 7 Layer보다 빨리 출시되었음.
  - 통신 프로토콜이 빨리 필요한 미국방성에서 TCP/IP를 공식적으로 사용.
  - 급속히 발전하는 기술에 신속히 대응하여 현실에서 작동하는 프로토콜을 빠르게 만들고 개선했기 때문.
  - 이를 근간으로 발전된 네트워크가 현재의 네트워크.
- 다음과 같은 4 계층을 갖는다. (Original)
  - Application Layer
  - Transport lLyer
  - Internet Layer
  - Network Interface
- 업데이트 이후에는 다음과 같다. (응용계층 아래부터는 OSI와 똑같다 + 오늘날 많이 사용되고 있음)
  - Application Layer
  - Transport Layer
  - Internet Layer
  - Data Link Layer
  - Physical Layer

## 물리 계층(Physical layer)

**물리적으로 연결된 두 대의 컴퓨터가 0과 1의 나열을 주고 받을 수 있게 해주는 모듈(module)**

- 디지털 신호(ex 0101)는 0 ~ 무한대 주파수를 갖음. 이런 전기신호를 통과시킬 수 있는 전선은 없다.
- 그래서 디지털 신호를 아날로그로 신호로 바꿔서 전송해야함.
- 인코딩 : 원본을 변조(디지털 -> 아날로그), 디코딩: 변조된 거에서 원본 해석(아날로그 -> 인코딩)
- PHY 칩 (하드웨어적으로 구현됨)
- 물리계층을 통해 전선으로 컴퓨터를 연결하면 데이터를 주고 받을 수 있게 된다.

## 데이터 링크 계층(Data link layer)

**같은 네트워크에 있는 여러 대의 컴퓨터들이 데이터를 주고 받기 위해서 필요한 모듈**

- 데이터링크 계층은 랜 카드에 구현됨. (하드웨어)

### 스위치

- 컴퓨터 두 대를 통신하려면 전선을 연결하면 된다. 그래서 컴퓨터 별로 전선을 모두 연결하면 통신이 가능하다.
  - 하지만 그만큼 비용이 많아진다.
- 중앙에서 모두와 연결된 컴퓨터가 있으면 다른 컴퓨터는 한번만 연결하면 된다.
- 그 역할을 할 수 있는게 스위치
- 이렇게 여러대의 컴퓨터와 스위치로 하나의 네트워크를 구성
- 다른 네트워크와도 통신이 가능하게 해주는 장비는 라우터(네트워크 계층)

### 프레임

- 같은 네트워크의 여러 컴퓨터에서 동시에 데이터가 전송된다고 가정하자.
- `0101`, `1110`, `0011` 등 여러 데이터가 도착했을 때 수신자측에서는 이걸 구분할 수가 있나?
- 그래서 현재가 보내는 데이터의 시작과 끝을 구분해주는 구분자가 필요.
- 이러한 작업을 `framing` 이라고 함.
- 또한 구분자를 만들어서 만든 데이터를 `프레임` 이라고 부름.

### MAC(Media Access Control Address)

- 네트워크 인터페이스에 할당된 고유 식별자.
- 물리적 장비를 식별하는 물리 주소.
- 물리 주소가 있으면 물리적으로 연결된 장비 중 어느 장비로 데이터를 전송해야 하는지 알 수 있음.

## 네트워크 계층(Network layer)

**수 많은 네트워크들의 연결로 이루어지는 inter-network 속에서 어딘가에 있는 목적지 컴퓨터로 데이터 전송을 하기 위해, IP 주소를 이용해서 길을 찾고(routing) 자신 다음의 라우터에게 데이터를 넘겨주는 것(forwarding)**

**호스트에 IP 번호를 부여하고 해당 도착지 IP까지 최적의 경로를 찾아주는 기능을 제공**

- 서로 다른 두 네트워크와의 전송을 담당
- 운영체제 커널에 소프트웨적으로 구현되어 있음

### 라우터

- 컴퓨터 네트워크 간에 데이터 패킷을 전송하는 네트워크 장치
- 라우터에서 라우터로 최종 데이터의 목적지까지 최적의 경로를 찾아가는 연쇄적인 과정을 라우팅(routing)이라고 함.

### IP주소

- 컴퓨터 네트워크에서 장치들이 서로를 인식하고 통신을 하기 위해서 사용하는 특수한 번호.
- IP 주소가 있으면 다른 네트워크에 있는 수신지 컴퓨터를 지정할 수 있음.

## 전송 계층(Transport layer)

**포트 번호를 사용하여 도착지 컴퓨터의 최종 도착직인 프로세스 까지 데이터가 도달하게 하는 모듈**

- 운영체제 커널에 소프트웨적으로 구현되어 있음

### 포트 번호

- 하나의 컴퓨터에서 동시에 실행되고 있는 프로세스들이 서로 겹치지 않게 하는 정수 값

### TCP

- 신뢰할 수 있고 정확한 데이터를 전달하기 위해 전송 속도를 조절하거나 도달하지 않은 데이터를 재전송하는 기능을 하는 프로토콜.

### UDP

- 데이터의 일부가 유실되더라도 빠르고 효율적으로 데이터를 전송하는 프로토콜.

## 세션 계층(Session layer)

**양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공**

- ex) 전화 처럼 양방향, 무전기처럼 한 방향, 아니면 그냥 듣기만 할지
- 논리적인 회선을 생성
  - 생성(Create), 유지(Establised), 종료(Closed)

## 표현 계층(Presentation layer)

**데이터를 표현하는 계층**

- 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어 줌.
- 인코딩, 암호화, 압축 등
  - 사진을 보냈는데 영상으로 해석 해버리면?
  - 공통된 표준이 필요함

## 응용 계층(Application layer)

**응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행**

- 네트워크 소프트웨어 UI 부분
- 사용자의 입출력(I/O)부분
- 애플리케이션이 제공하는 서비스마다 개별적인 기능을 구현하기 때문에 애플리케이션마다 별개로 존재하는 프로토콜이 존재.
  - HTTP, FTP, SMTP, POP3 등

## 모듈화 된 계층 구조의 장점

- 각 계층마다 고유한 역할이 존재하고, 다른 계층과는 상관없이 독립된 형태로 각자 맡은 역할을 수행.
  - 한 계층의 오류나 변경은 다른 계층에 영향을 주지 않음.
- 이러한 독립성은 기술 발전 속도에 맞춰 각 계층을 자유롭고 편리하게 설계하고 변경할 수 있는 유연성과 개방성을 갖게 됨.
- 계층을 연결하는 인터페이스 덕분에 다양한 네트워크 장비를 만드는 기술들 간의 상호 연결성이 확보.
  - 물리적으로 어떤 기술(WIFI든 5G든 인터넷이든)을 사용해서 네트워크에 접속하든 문제없이 데이터를 주고받을 수 있는 호환성을 갖게 됨.

### 출처

- https://youtu.be/1pfTxp25MA8
- https://www.youtube.com/watch?v=Fl_PSiIwtEo
- https://youtu.be/aTPy201F0AA
- https://ko.wikipedia.org/wiki/OSI_%EB%AA%A8%ED%98%95
- https://engineeringcode.tistory.com/50
- https://ko.wikipedia.org/wiki/%EB%9D%BC%EC%9A%B0%ED%84%B0
- https://ko.wikipedia.org/wiki/MAC_%EC%A3%BC%EC%86%8C
- https://ko.wikipedia.org/wiki/IP_%EC%A3%BC%EC%86%8C
- https://better-together.tistory.com/82
  https://better-together.tistory.com/65?category=887984
